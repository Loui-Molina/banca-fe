<div class="inner-content">
  <nz-page-header [nzGhost]="false" class="page-header">
    <nz-page-header-title>{{title}}</nz-page-header-title>
    <nz-page-header-extra>
      <!--<button nz-button>Operation</button>-->
      <button nz-button nzType="primary" (click)="onAdd()">Nuevo</button>
    </nz-page-header-extra>
    <nz-page-header-content>
      <nz-descriptions nzSize="small" [nzColumn]="3">
        <nz-descriptions-item nzTitle="Cantidad" [nzSpan]="3">{{controller.length}}</nz-descriptions-item>
      </nz-descriptions>
    </nz-page-header-content>
  </nz-page-header>


  <nz-table #basicTable [nzData]="controller" >
    <thead>
    <tr>
      <th class="table-th" [class.numeric]="column.type === 'numeric'" *ngFor="let column of columns">{{column.title}}</th>
      <th>Acciones</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let item of basicTable.data">
      <td class="table-td" *ngFor="let column of columns" [class.numeric]="column.type === 'numeric'">
        {{column.prefix}}{{ column.valueFormatter ? column.valueFormatter(item, column) : item[column.key] }}{{column.suffix}}
      </td>
      <td>
        <i nz-icon nzType="eye" (click)="openView(item)" class="action-icon" nzTheme="outline"></i>
        <i nz-icon nzType="edit" (click)="onEdit(item)" class="action-icon" nzTheme="outline"></i>
        <i nz-icon nzType="delete" (click)="onDelete(item)" class="action-icon red" nzTheme="outline"></i>
      </td>
    </tr>
    </tbody>
  </nz-table>
</div>




<nz-drawer
  [nzBodyStyle]="{ overflow: 'auto' }"
  [nzMaskClosable]="false"
  [nzWidth]="720"
  [nzVisible]="visibleForm"
  [nzTitle]="mode === 'C'?'Nuevo':'Editar'"
  [nzFooter]="footerTplForm"
  (nzOnClose)="onCancel()"
>
  <div>
    <ng-container *ngTemplateOutlet="formTemplate">
    </ng-container>

    <ng-template #footerTplForm>
      <div style="float: right">
        <button nz-button style="margin-right: 8px;" (click)="onCancel()">Cancelar</button>
        <button nz-button nzType="primary" [disabled]="!form.valid" (click)="onSave()">Guardar</button>
      </div>
    </ng-template>
  </div>
</nz-drawer>


<nz-drawer
  [nzBodyStyle]="{ overflow: 'auto' }"
  [nzMaskClosable]="false"
  [nzWidth]="720"
  [nzVisible]="visibleView"
  [nzTitle]="title"
  (nzOnClose)="onCancelView()"
>
  <div>
    <ng-container *ngTemplateOutlet="viewTemplate; context: {$implicit: viewItem}">
    </ng-container>
  </div>
</nz-drawer>

