<div class="inner-content mb-20">
  <app-title-divider title="{{'HOME.DASHBOARD.DAILY_STATS' |translate}}"></app-title-divider>
  <div nz-row class="fit-height" [nzGutter]="8">
    <div nz-col nzXs="24" nzMd="24" nzXl="6" class="mb-20">
      <app-widget [title]="'HOME.DASHBOARD.TICKETS'| translate | uppercase"
                  [value]="soldTickets"
                  [prefix]="false"
                  [icon]="'stock'"></app-widget>
    </div>
    <div nz-col nzXs="24" nzMd="24" nzXl="6" class="mb-20">
      <app-widget [title]="'HOME.DASHBOARD.INGRESS'| translate | uppercase"
                  [backgroundColor]="'orange'"
                  [value]="earnings"
                  [icon]="'rise'"></app-widget>
    </div>
    <div nz-col nzXs="24" nzMd="24" nzXl="6" class="mb-20">
      <app-widget [title]="'HOME.DASHBOARD.EGRESS'| translate | uppercase"
                  [backgroundColor]="'grey'"
                  [value]="loses"
                  [icon]="'fall'"></app-widget>
    </div>
    <div nz-col nzXs="24" nzMd="24" nzXl="6" class="mb-20">
      <app-widget [title]="'HOME.DASHBOARD.BALANCE' | translate | uppercase"
                  [backgroundColor]="'green'"
                  [value]="balance"
                  [icon]="'fund'"></app-widget>
    </div>
  </div>
</div>

<div nz-col nzXs="24">
  <div class="inner-content mb-20" style="min-height: 250px;overflow: hidden;">
    <app-title-divider title="Diagrama de organizacion"></app-title-divider>
    <ngx-graph
      class="chart-container"
      [showMiniMap]="false"
      [autoCenter]="true"
      [autoZoom]="true"
      layout="dagreCluster"
      [links]="[
    {
      id: 'a',
      source: '1',
      target: '2'
    }, {
      id: 'b',
      source: '1',
      target: '3'
    }, {
      id: 'c',
      source: '3',
      target: '4'
    }, {
      id: 'c',
      source: '3',
      target: '5'
    }, {
      id: 'f',
      source: '2',
      target: '6'
    }, {
      id: 'g',
      source: 'a1',
      target: 'a2'
    }, {
      id: 'h',
      source: 's1',
      target: 'a1'
    }
  ]"
      [nodes]="[
      {
      id: 'a1',
      label: 'Consorcio 2'
    }, {
      id: 'a2',
      label: 'Banca Pedro'
    }, {
      id: 's1',
      label: 'Supervisor'
    },
    {
      id: '1',
      label: 'Consorcio 1'
    }, {
      id: '2',
      label: 'Banca 1'
    }, {
      id: '3',
      label: 'Banca 2'
    }, {
      id: '4',
      label: 'Usuario 1'
    }, {
      id: '5',
      label: 'Usuario 2'
    }, {
      id: '6',
      label: 'Usuario 3'
    }
  ]"
      [clusters]="[
      {
      id: 'cluster',
      label: 'Consorcios',
      childNodeIds: ['a1', '1']
    },
    {
      id: 'cluster0',
      label: 'Bancas',
      childNodeIds: ['2', '3', 'a2']
    },
    {
      id: 'cluster1',
      label: 'Usuarios',
      childNodeIds: ['4', '5', '6']
    }
  ]"
    >
      <ng-template #nodeTemplate let-node>
        <svg:g class="node">
          <svg:rect
            [attr.width]="node.dimension.width"
            [attr.height]="node.dimension.height"
            [attr.fill]="node.data.color"
          />
          <svg:text alignment-baseline="central" [attr.x]="10" [attr.y]="node.dimension.height / 2">
            {{node.label}}
          </svg:text>
        </svg:g>
      </ng-template>
    </ngx-graph>
  </div>
</div>

<div class="inner-content fit-height mb-20" style="min-height: 300px;">
  <app-title-divider title="{{'Resumen Bancas diario' |translate}}"></app-title-divider>
  <app-bankings-panel></app-bankings-panel>
</div>
<div nz-row [nzGutter]="8">
  <div nz-col nzXs="24" nzXl="12">
    <div class="inner-content mb-20" style="min-height: 460px;">
      <app-title-divider
        title="{{'Balance del dia por banca' | translate}}"></app-title-divider>
      <app-bar-chart xAxisLabel="Bancas" yAxisLabel="Balance" [results]="barChartData"></app-bar-chart>
    </div>
  </div>
  <div nz-col nzXs="24" nzXl="12">
    <div class="inner-content mb-20" style="min-height: 460px;">
      <app-title-divider title="Ganancias vs Perdidas"></app-title-divider>
      <app-pie-chart [height]="400" [results]="single"></app-pie-chart>
    </div>
  </div>
</div>
<div nz-col nzXs="24" style="padding-bottom: 10px;">
  <div class="inner-content mb-20">
    <app-title-divider title="TOP 10 numeros mas jugados durante el dia"></app-title-divider>
    <div class="balls-container">
      <app-ball [title]="'11'" [description]="'91 veces'" [background]="'red'"></app-ball>
      <app-ball [title]="'00'" [description]="'86 veces'" [background]="'red'"></app-ball>
      <app-ball [title]="'47'" [description]="'60 veces'" [background]="'red'"></app-ball>
      <app-ball [title]="'74'" [description]="'58 veces'" [background]="'grey'"></app-ball>
      <app-ball [title]="'22'" [description]="'49 veces'" [background]="'grey'"></app-ball>
      <app-ball [title]="'25'" [description]="'44 veces'" [background]="'grey'"></app-ball>
    </div>
  </div>
</div>


