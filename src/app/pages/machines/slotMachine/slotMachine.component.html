<div [style.backgroundColor]="'#000000e3'"
     [style.backgroundSize]="'cover'"
     [style.background]="'url(' + background + ') center'"
     style="width: 100%; height: 100%; position: absolute; z-index: -1; ">

</div>
<div class="container-game">

  <div class="box-game">
    <div [style.left]="'-35%'" [style.width]="'150px'" class="winchart">
      <div *ngFor="let item of getRates()" class="rate">
        <ng-container *ngFor="let a of ([].constructor(BOXES)).reverse(); let i = index">
          <ng-container *ngIf="i+1 > (WINNERMIN-1)">
            <img *ngFor="let a of [].constructor(i+1); let j = index" [src]="item.image"
                 [style.right]="(120*(i-2))+(5*j)+70+'px'" alt="Image"/>
            <div [style.right]="(120*(i-2))+20+'px'" class="ratio">{{item.value}}x{{i + 1}}</div>
          </ng-container>
        </ng-container>
      </div>
    </div>
    <div [style.backgroundSize]="'contain'" [style.background]="'url(' + machine + ') center no-repeat'"
         class="machine"></div>
    <div class="game">
      <div *ngFor="let item of multipleCards" class="game-area">
        <div *ngFor="let card of item.cards"
             [@cardSpinner]="card.state" [style.backgroundSize]="'contain'" [style.background]="'url(' + card.background + ') center no-repeat'"
             class="card">
        </div>
      </div>
    </div>
    <div class="footer">
      <div class="autospin">
        AUTOSPIN
        <nz-switch [(ngModel)]="autoSpin" nzSize="small"></nz-switch>
      </div>
      <button (click)="play()" [class.disabled]="status === 'PLAYING' || bet > score" [disabled]="status === 'PLAYING' || bet > score"
              type="button">
      </button>
      <div class="score">
        <span class="description">SCORE <span *ngIf="lastWin" style="color:yellow"> LAST WIN: ${{lastWin}}</span></span>
        ${{score}}
      </div>
      <div class="bet">
        <span class="description">BET</span>
        <i (click)="changeBet(1)" [class.disabled]="status === 'PLAYING'" nz-icon nzTheme="outline" nzType="up"></i>
        <i (click)="changeBet(-1)" [class.disabled]="status === 'PLAYING'" nz-icon nzTheme="outline" nzType="down"></i>
        ${{bet}}
      </div>
    </div>
  </div>

  <div *ngIf="showChart" class="container-chart">
    <app-line-chart [results]="lineChartData" xAxisLabel="COUNT" yAxisLabel="BET"></app-line-chart>
  </div>
</div>
