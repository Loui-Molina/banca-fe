<app-page-loader-bouncing [loading]="loading"></app-page-loader-bouncing>
<div class="inner-content fit-height mb-20">

  <div class="chat-container">
    <div class="message" [class.sender]="message.sender" *ngFor="let message of messages">
      <div class="message-box">
        <p class="date">{{message.date | date: 'dd/MM/yyyy hh:mm:ss'}}</p>
        <p class="message-text">{{message.message}}</p>
        <p class="sender" *ngIf="!message.sender">{{message.originName}}</p>
      </div>
    </div>
  </div>
</div>
<div class="inner-content fit-height mb-20">
  <form [formGroup]="form">
    <ng-container *ngIf="user?.role === userRole.Consortium">
      <div class="form-element">
        <label for="message">
          {{'Seleccione una banca'|translate}}
        </label>
        <nz-select
          formControlName="destinationId" nzPlaceHolder="Seleccione una banca" style="width: 100%;">
          <nz-option *ngFor="let banking of bankings"
                     [nzLabel]="banking.name"
                     [nzValue]="banking._id"></nz-option>
        </nz-select>
      </div>
    </ng-container>
    <div class="form-element">
      <label for="message">
        {{'Mensaje'|translate}}
      </label>
      <input
        nz-input
        id="message"
        placeholder="Escribe aqui..."
        class="right-input"
        formControlName="message"
        style="width: 100%"/>
    </div>
    <button (click)="submitMessage()" [disabled]="!this.form.valid || this.loading" nz-button>{{'Enviar'|translate}}</button>
  </form>
</div>
